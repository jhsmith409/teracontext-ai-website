// Simple Lunr.js search for blog posts
document.addEventListener('DOMContentLoaded',function(){const searchInput=document.getElementById('blog-search'),postsList=document.querySelector('.posts-list'),postItems=postsList?postList.querySelectorAll('li'):[];if(!searchInput||postItems.length===0)return;const idx=lunr(function(){this.ref('id');this.field('title');this.field('date');postItems.forEach((item,id)=>{const title=item.querySelector('a')?item.querySelector('a').textContent:'',date=item.querySelector('.post-date')?item.querySelector('.post-date').textContent:'';this.add({id:id.toString(),title:title,date:date})})});searchInput.addEventListener('input',function(){const query=this.value;postsList.innerHTML='';if(query===''){postItems.forEach(item=>postsList.appendChild(item.cloneNode(true)))}else{const results=idx.search(query);results.forEach(result=>{const item=postItems[parseInt(result.ref)];if(item)postsList.appendChild(item.cloneNode(true))})}})});