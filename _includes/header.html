<header>
  <nav>
    <a href="/" class="logo">
      <img src="/rockpilespear.jpg" alt="Joshua8.AI Logo" class="logo-image">
      <span class="logo-text">Joshua8.AI</span>
    </a>
    <button class="mobile-menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </button>
    <div class="nav-center" id="nav-menu">
      <ul>
        <li><a href="/our-story">History</a></li>
        <li><a href="/services">Services</a></li>
        <li class="dropdown">
          <a href="#">Resources</a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="/blog">Blog</a></li>
            <li><a href="/industry-insights">Insights</a></li>
            <li><a href="/faq">FAQ</a></li>
          </ul>
        </li>
        <li><a href="/how-to-work-with-us">Work With Us</a></li>
        <li><a href="/about">About</a></li>
      </ul>
    </div>
    <a href="/contact" class="cta nav-cta">Get Started</a>
  </nav>
</header>

<script>
  // Mobile menu toggle functionality
  document.addEventListener('DOMContentLoaded', function() {
    const menuToggle = document.querySelector('.mobile-menu-toggle');
    const navMenu = document.getElementById('nav-menu');

    if (menuToggle && navMenu) {
      menuToggle.addEventListener('click', function() {
        const isExpanded = this.getAttribute('aria-expanded') === 'true';
        this.setAttribute('aria-expanded', !isExpanded);
        this.classList.toggle('active');
        navMenu.classList.toggle('active');
      });

      // Close menu when clicking on a link
      const navLinks = navMenu.querySelectorAll('a');
      navLinks.forEach(link => {
        link.addEventListener('click', function() {
          menuToggle.classList.remove('active');
          navMenu.classList.remove('active');
          menuToggle.setAttribute('aria-expanded', 'false');
          // Close dropdowns
          const dropdowns = navMenu.querySelectorAll('.dropdown-menu');
          dropdowns.forEach(dd => dd.style.display = 'none');
        });
      });

      // Toggle dropdown on mobile
      const dropdownToggles = navMenu.querySelectorAll('.dropdown > a');
      dropdownToggles.forEach(toggle => {
        toggle.addEventListener('click', function(e) {
          if (window.innerWidth <= 768) {
            e.preventDefault();
            const menu = this.nextElementSibling;
            if (menu.style.display === 'block') {
              menu.style.display = 'none';
            } else {
              navMenu.querySelectorAll('.dropdown-menu').forEach(m => m.style.display = 'none');
              menu.style.display = 'block';
            }
          }
        });
      });

      // Close menu when clicking outside
      document.addEventListener('click', function(event) {
        const isClickInside = navMenu.contains(event.target) || menuToggle.contains(event.target);
        if (!isClickInside && navMenu.classList.contains('active')) {
          menuToggle.classList.remove('active');
          navMenu.classList.remove('active');
          menuToggle.setAttribute('aria-expanded', 'false');
        }
      });
    }
  });
</script>

<style>
/* Enhanced header with logo */
header {
  padding: 0.5rem 0;
}

nav {
  padding: 1rem 2rem;
}

.logo {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.25rem;
  padding: 0.5rem;
  margin: -0.5rem;
}

.logo-image {
  width: 50px;
  height: 50px;
  object-fit: cover;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
}

.logo-text {
  font-size: 1.1rem;
  font-weight: 700;
  letter-spacing: -0.5px;
  white-space: nowrap;
}

@media (max-width: 768px) {
  .logo-image {
    width: 40px;
    height: 40px;
  }

  .logo-text {
    font-size: 0.95rem;
  }
}
</style>
